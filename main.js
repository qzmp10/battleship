(()=>{"use strict";var e,t,r,n,a={426:(e,t,r)=>{r.d(t,{Z:()=>s});var n=r(537),a=r.n(n),o=r(645),i=r.n(o)()(a());i.push([e.id,"body {\n    display: flex;\n    gap: 6rem;\n}\n\n.player-container {\n    display: grid;\n    grid-template-columns: repeat(10, 3rem);\n    grid-template-rows: repeat(10, 3rem);\n    gap: .5rem;\n    justify-items: center;\n}\n\n.cpu-container {\n    display: grid;\n    grid-template-columns: repeat(10, 3rem);\n    grid-template-rows: repeat(10, 3rem);\n    gap:.5rem;\n    justify-items: center;\n}\n\n.area {\n    width: 3rem;\n    height: 3rem;\n    background-color: green;\n}\n\n.hit {\n    background-color: red;\n}\n","",{version:3,sources:["webpack://./src/style.css"],names:[],mappings:"AAAA;IACI,aAAa;IACb,SAAS;AACb;;AAEA;IACI,aAAa;IACb,uCAAuC;IACvC,oCAAoC;IACpC,UAAU;IACV,qBAAqB;AACzB;;AAEA;IACI,aAAa;IACb,uCAAuC;IACvC,oCAAoC;IACpC,SAAS;IACT,qBAAqB;AACzB;;AAEA;IACI,WAAW;IACX,YAAY;IACZ,uBAAuB;AAC3B;;AAEA;IACI,qBAAqB;AACzB",sourcesContent:["body {\n    display: flex;\n    gap: 6rem;\n}\n\n.player-container {\n    display: grid;\n    grid-template-columns: repeat(10, 3rem);\n    grid-template-rows: repeat(10, 3rem);\n    gap: .5rem;\n    justify-items: center;\n}\n\n.cpu-container {\n    display: grid;\n    grid-template-columns: repeat(10, 3rem);\n    grid-template-rows: repeat(10, 3rem);\n    gap:.5rem;\n    justify-items: center;\n}\n\n.area {\n    width: 3rem;\n    height: 3rem;\n    background-color: green;\n}\n\n.hit {\n    background-color: red;\n}\n"],sourceRoot:""}]);const s=i},645:e=>{e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var r="",n=void 0!==t[5];return t[4]&&(r+="@supports (".concat(t[4],") {")),t[2]&&(r+="@media ".concat(t[2]," {")),n&&(r+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),r+=e(t),n&&(r+="}"),t[2]&&(r+="}"),t[4]&&(r+="}"),r})).join("")},t.i=function(e,r,n,a,o){"string"==typeof e&&(e=[[null,e,void 0]]);var i={};if(n)for(var s=0;s<this.length;s++){var c=this[s][0];null!=c&&(i[c]=!0)}for(var l=0;l<e.length;l++){var u=[].concat(e[l]);n&&i[u[0]]||(void 0!==o&&(void 0===u[5]||(u[1]="@layer".concat(u[5].length>0?" ".concat(u[5]):""," {").concat(u[1],"}")),u[5]=o),r&&(u[2]?(u[1]="@media ".concat(u[2]," {").concat(u[1],"}"),u[2]=r):u[2]=r),a&&(u[4]?(u[1]="@supports (".concat(u[4],") {").concat(u[1],"}"),u[4]=a):u[4]="".concat(a)),t.push(u))}},t}},537:e=>{e.exports=function(e){var t=e[1],r=e[3];if(!r)return t;if("function"==typeof btoa){var n=btoa(unescape(encodeURIComponent(JSON.stringify(r)))),a="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(n),o="/*# ".concat(a," */"),i=r.sources.map((function(e){return"/*# sourceURL=".concat(r.sourceRoot||"").concat(e," */")}));return[t].concat(i).concat([o]).join("\n")}return[t].join("\n")}},654:(e,t,r)=>{var n=r(379),a=r.n(n),o=r(795),i=r.n(o),s=r(569),c=r.n(s),l=r(565),u=r.n(l),p=r(216),d=r.n(p),h=r(589),f=r.n(h),m=r(426),y={};y.styleTagTransform=f(),y.setAttributes=u(),y.insert=c().bind(null,"head"),y.domAPI=i(),y.insertStyleElement=d(),a()(m.Z,y),m.Z&&m.Z.locals&&m.Z.locals},379:e=>{var t=[];function r(e){for(var r=-1,n=0;n<t.length;n++)if(t[n].identifier===e){r=n;break}return r}function n(e,n){for(var o={},i=[],s=0;s<e.length;s++){var c=e[s],l=n.base?c[0]+n.base:c[0],u=o[l]||0,p="".concat(l," ").concat(u);o[l]=u+1;var d=r(p),h={css:c[1],media:c[2],sourceMap:c[3],supports:c[4],layer:c[5]};if(-1!==d)t[d].references++,t[d].updater(h);else{var f=a(h,n);n.byIndex=s,t.splice(s,0,{identifier:p,updater:f,references:1})}i.push(p)}return i}function a(e,t){var r=t.domAPI(t);return r.update(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap&&t.supports===e.supports&&t.layer===e.layer)return;r.update(e=t)}else r.remove()}}e.exports=function(e,a){var o=n(e=e||[],a=a||{});return function(e){e=e||[];for(var i=0;i<o.length;i++){var s=r(o[i]);t[s].references--}for(var c=n(e,a),l=0;l<o.length;l++){var u=r(o[l]);0===t[u].references&&(t[u].updater(),t.splice(u,1))}o=c}}},569:e=>{var t={};e.exports=function(e,r){var n=function(e){if(void 0===t[e]){var r=document.querySelector(e);if(window.HTMLIFrameElement&&r instanceof window.HTMLIFrameElement)try{r=r.contentDocument.head}catch(e){r=null}t[e]=r}return t[e]}(e);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");n.appendChild(r)}},216:e=>{e.exports=function(e){var t=document.createElement("style");return e.setAttributes(t,e.attributes),e.insert(t,e.options),t}},565:(e,t,r)=>{e.exports=function(e){var t=r.nc;t&&e.setAttribute("nonce",t)}},795:e=>{e.exports=function(e){var t=e.insertStyleElement(e);return{update:function(r){!function(e,t,r){var n="";r.supports&&(n+="@supports (".concat(r.supports,") {")),r.media&&(n+="@media ".concat(r.media," {"));var a=void 0!==r.layer;a&&(n+="@layer".concat(r.layer.length>0?" ".concat(r.layer):""," {")),n+=r.css,a&&(n+="}"),r.media&&(n+="}"),r.supports&&(n+="}");var o=r.sourceMap;o&&"undefined"!=typeof btoa&&(n+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(o))))," */")),t.styleTagTransform(n,e,t.options)}(t,e,r)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(t)}}}},589:e=>{e.exports=function(e,t){if(t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}},498:(e,t,r)=>{r.d(t,{V:()=>a});var n=r(643);class a{constructor(){this.gameboard=this.createBoard(),this.carrier=new n.lO(5),this.battleship=new n.lO(4),this.cruiser=new n.lO(3),this.submarine=new n.lO(3),this.destroyer=new n.lO(2)}createBoard(){let e=[];for(let t=0;t<100;t++)e.push({ship:!1,state:"intact",position:t});return e}placeShip(e,t,r,n){let a=r;if(!(t<2||t>5)){if("horizontal"==e){if(r>=10)for(;10<a;)a%10==0||(a%=10);if(t>10-a)return;for(let e=0;e<t;e++)0==e?(this.gameboard[r].ship=!0,this.gameboard[r].type=n):(this.gameboard[r+e].ship=!0,this.gameboard[r+e].type=n)}if("vertical"==e){if(10*t>=100-r)return;for(let e=0;e<t;e++)this.gameboard[r+10*e].ship=!0,this.gameboard[r+10*e].type=n}}}receiveAttack(e){let t=[];if(this.gameboard[e].state="hit",1==this.gameboard[e].ship){let r=this.gameboard[e].type,n=this.gameboard.filter((e=>e.type==`${r}`));for(const e of n)"hit"==e.state&&t.push(n.indexOf(e));if(0!=t.length)if("carrier"==r)for(const e of t)this.carrier.zones[`zone${e+1}`]="hit";else if("battleship"==r)for(const e of t)this.battleship.zones[`zone${e+1}`]="hit";else if("submarine"==r)for(const e of t)this.submarine.zones[`zone${e+1}`]="hit";else if("cruiser"==r)for(const e of t)this.cruiser.zones[`zone${e+1}`]="hit";else if("destroyer"==r)for(const e of t)this.destroyer.zones[`zone${e+1}`]="hit"}else this.gameboard[e].miss=!0}areAllShipsSunk(){return!!(Object.values(this.carrier.zones).every((e=>"hit"==e))&&Object.values(this.battleship.zones).every((e=>"hit"==e))&&Object.values(this.cruiser.zones).every((e=>"hit"==e))&&Object.values(this.submarine.zones).every((e=>"hit"==e))&&Object.values(this.destroyer.zones).every((e=>"hit"==e)))}}new a},138:(e,t,r)=>{r.a(e,(async(e,t)=>{try{r(654),r(498),r(643);var n=r(507);async function a(){try{let e=await fetch("http://www.randomnumberapi.com/api/v1.0/random?min=0&max=9&count=1"),t=await fetch("http://www.randomnumberapi.com/api/v1.0/random?min=0&max=4&count=1");const r=await e.json(),n=await t.json();let a=String(r)+String(n);return Number(a)}catch(e){console.log(e)}}const o=new n.J("player1"),i=new n.J("CPU");let s=await a();async function c(){try{console.log(s),i.ownBoard.placeShip("horizontal",5,s,"carrier")}catch(e){console.log(e)}}async function l(){try{if(s<30){let e=s+11;return i.ownBoard.placeShip("horizontal",4,e,"battleship"),e}{let e=s-19;return i.ownBoard.placeShip("horizontal",4,e,"battleship"),e}}catch(e){console.log(e)}}let u=await l();async function p(){try{console.log(u)}catch(e){console.log(e)}}c(),l(),p();const d=document.querySelector(".player-container"),h=document.querySelector(".cpu-container");let f=0;o.ownBoard.gameboard.forEach((e=>{let t=document.createElement("div");t.classList.add("intact"),t.classList.add("area"),t.classList.add("player"),t.setAttribute("data-id-player",f),d.appendChild(t),f+=1})),f=0,i.ownBoard.gameboard.forEach((e=>{let t=document.createElement("div");t.classList.add("intact"),t.classList.add("area"),t.classList.add("cpu"),t.setAttribute("data-id-cpu",f),h.appendChild(t),f+=1})),document.querySelectorAll(".player"),document.querySelectorAll(".cpu").forEach((e=>{e.addEventListener("click",(()=>{console.log(e.dataset.idCpu),i.ownBoard.receiveAttack(e.dataset.idCpu),console.log(i.ownBoard.gameboard[e.dataset.idCpu])}))})),t()}catch(m){t(m)}}),1)},507:(e,t,r)=>{r.d(t,{J:()=>a});var n=r(498);class a{constructor(e){this.name=e,this.ownBoard=new n.V}attackCPU(e,t){t.receiveAttack(e)}attackPlayer(e,t=Math.floor(100*Math.random())){return e.receiveAttack(t),t}}},643:(e,t,r)=>{r.d(t,{lO:()=>n});class n{constructor(e){this.length=e,this.zones=this.createZones()}reset(){this.zones=this.createZones()}createZones(e=this.length){let t={};for(let r=0;r<e;r++)t[`zone${r+1}`]="intact";return t}hit(e){return e>Object.keys(this.zones).length||(this.zones[`zone${e}`]="hit"),this.zones}isSunk(){return!!Object.values(this.zones).every((e=>"hit"==e))}sinkShip(){for(let e=0;e<this.length;e++)this.zones[`zone${e+1}`]="hit"}}new n(4),new n(3),new n(2),new n(1)}},o={};function i(e){var t=o[e];if(void 0!==t)return t.exports;var r=o[e]={id:e,exports:{}};return a[e](r,r.exports,i),r.exports}e="function"==typeof Symbol?Symbol("webpack queues"):"__webpack_queues__",t="function"==typeof Symbol?Symbol("webpack exports"):"__webpack_exports__",r="function"==typeof Symbol?Symbol("webpack error"):"__webpack_error__",n=e=>{e&&!e.d&&(e.d=1,e.forEach((e=>e.r--)),e.forEach((e=>e.r--?e.r++:e())))},i.a=(a,o,i)=>{var s;i&&((s=[]).d=1);var c,l,u,p=new Set,d=a.exports,h=new Promise(((e,t)=>{u=t,l=e}));h[t]=d,h[e]=e=>(s&&e(s),p.forEach(e),h.catch((e=>{}))),a.exports=h,o((a=>{var o;c=(a=>a.map((a=>{if(null!==a&&"object"==typeof a){if(a[e])return a;if(a.then){var o=[];o.d=0,a.then((e=>{i[t]=e,n(o)}),(e=>{i[r]=e,n(o)}));var i={};return i[e]=e=>e(o),i}}var s={};return s[e]=e=>{},s[t]=a,s})))(a);var i=()=>c.map((e=>{if(e[r])throw e[r];return e[t]})),l=new Promise((t=>{(o=()=>t(i)).r=0;var r=e=>e!==s&&!p.has(e)&&(p.add(e),e&&!e.d&&(o.r++,e.push(o)));c.map((t=>t[e](r)))}));return o.r?l:i()}),(e=>(e?u(h[r]=e):l(d),n(s)))),s&&(s.d=0)},i.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return i.d(t,{a:t}),t},i.d=(e,t)=>{for(var r in t)i.o(t,r)&&!i.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},i.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),i.nc=void 0,i(138)})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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aGlwL3dlYnBhY2svcnVudGltZS9hc3luYyBtb2R1bGUiLCJ3ZWJwYWNrOi8vYmF0dGxlc2hpcC8uL3NyYy9zdHlsZS5jc3MiLCJ3ZWJwYWNrOi8vYmF0dGxlc2hpcC8uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvcnVudGltZS9hcGkuanMiLCJ3ZWJwYWNrOi8vYmF0dGxlc2hpcC8uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvcnVudGltZS9zb3VyY2VNYXBzLmpzIiwid2VicGFjazovL2JhdHRsZXNoaXAvLi9zcmMvc3R5bGUuY3NzPzcxNjMiLCJ3ZWJwYWNrOi8vYmF0dGxlc2hpcC8uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL2luamVjdFN0eWxlc0ludG9TdHlsZVRhZy5qcyIsIndlYnBhY2s6Ly9iYXR0bGVzaGlwLy4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvaW5zZXJ0QnlTZWxlY3Rvci5qcyIsIndlYnBhY2s6Ly9iYXR0bGVzaGlwLy4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvaW5zZXJ0U3R5bGVFbGVtZW50LmpzIiwid2VicGFjazovL2JhdHRsZXNoaXAvLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9zZXRBdHRyaWJ1dGVzV2l0aG91dEF0dHJpYnV0ZXMuanMiLCJ3ZWJwYWNrOi8vYmF0dGxlc2hpcC8uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL3N0eWxlRG9tQVBJLmpzIiwid2VicGFjazovL2JhdHRsZXNoaXAvLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9zdHlsZVRhZ1RyYW5zZm9ybS5qcyIsIndlYnBhY2s6Ly9iYXR0bGVzaGlwLy4vc3JjL2dhbWVib2FyZC5qcyIsIndlYnBhY2s6Ly9iYXR0bGVzaGlwLy4vc3JjL2luZGV4LmpzIiwid2VicGFjazovL2JhdHRsZXNoaXAvLi9zcmMvcGxheWVyLmpzIiwid2VicGFjazovL2JhdHRsZXNoaXAvLi9zcmMvc2hpcC5qcyIsIndlYnBhY2s6Ly9iYXR0bGVzaGlwL3dlYnBhY2svYm9vdHN0cmFwIiwid2VicGFjazovL2JhdHRsZXNoaXAvd2VicGFjay9ydW50aW1lL2NvbXBhdCBnZXQgZGVmYXVsdCBleHBvcnQiLCJ3ZWJwYWNrOi8vYmF0dGxlc2hpcC93ZWJwYWNrL3J1bnRpbWUvZGVmaW5lIHByb3BlcnR5IGdldHRlcnMiLCJ3ZWJwYWNrOi8vYmF0dGxlc2hpcC93ZWJwYWNrL3J1bnRpbWUvaGFzT3duUHJvcGVydHkgc2hvcnRoYW5kIiwid2VicGFjazovL2JhdHRsZXNoaXAvd2VicGFjay9ydW50aW1lL25vbmNlIiwid2VicGFjazovL2JhdHRsZXNoaXAvd2VicGFjay9zdGFydHVwIl0sInNvdXJjZXNDb250ZW50IjpbInZhciB3ZWJwYWNrUXVldWVzID0gdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiID8gU3ltYm9sKFwid2VicGFjayBxdWV1ZXNcIikgOiBcIl9fd2VicGFja19xdWV1ZXNfX1wiO1xudmFyIHdlYnBhY2tFeHBvcnRzID0gdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiID8gU3ltYm9sKFwid2VicGFjayBleHBvcnRzXCIpIDogXCJfX3dlYnBhY2tfZXhwb3J0c19fXCI7XG52YXIgd2VicGFja0Vycm9yID0gdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiID8gU3ltYm9sKFwid2VicGFjayBlcnJvclwiKSA6IFwiX193ZWJwYWNrX2Vycm9yX19cIjtcbnZhciByZXNvbHZlUXVldWUgPSAocXVldWUpID0+IHtcblx0aWYocXVldWUgJiYgIXF1ZXVlLmQpIHtcblx0XHRxdWV1ZS5kID0gMTtcblx0XHRxdWV1ZS5mb3JFYWNoKChmbikgPT4gKGZuLnItLSkpO1xuXHRcdHF1ZXVlLmZvckVhY2goKGZuKSA9PiAoZm4uci0tID8gZm4ucisrIDogZm4oKSkpO1xuXHR9XG59XG52YXIgd3JhcERlcHMgPSAoZGVwcykgPT4gKGRlcHMubWFwKChkZXApID0+IHtcblx0aWYoZGVwICE9PSBudWxsICYmIHR5cGVvZiBkZXAgPT09IFwib2JqZWN0XCIpIHtcblx0XHRpZihkZXBbd2VicGFja1F1ZXVlc10pIHJldHVybiBkZXA7XG5cdFx0aWYoZGVwLnRoZW4pIHtcblx0XHRcdHZhciBxdWV1ZSA9IFtdO1xuXHRcdFx0cXVldWUuZCA9IDA7XG5cdFx0XHRkZXAudGhlbigocikgPT4ge1xuXHRcdFx0XHRvYmpbd2VicGFja0V4cG9ydHNdID0gcjtcblx0XHRcdFx0cmVzb2x2ZVF1ZXVlKHF1ZXVlKTtcblx0XHRcdH0sIChlKSA9PiB7XG5cdFx0XHRcdG9ialt3ZWJwYWNrRXJyb3JdID0gZTtcblx0XHRcdFx0cmVzb2x2ZVF1ZXVlKHF1ZXVlKTtcblx0XHRcdH0pO1xuXHRcdFx0dmFyIG9iaiA9IHt9O1xuXHRcdFx0b2JqW3dlYnBhY2tRdWV1ZXNdID0gKGZuKSA9PiAoZm4ocXVldWUpKTtcblx0XHRcdHJldHVybiBvYmo7XG5cdFx0fVxuXHR9XG5cdHZhciByZXQgPSB7fTtcblx0cmV0W3dlYnBhY2tRdWV1ZXNdID0geCA9PiB7fTtcblx0cmV0W3dlYnBhY2tFeHBvcnRzXSA9IGRlcDtcblx0cmV0dXJuIHJldDtcbn0pKTtcbl9fd2VicGFja19yZXF1aXJlX18uYSA9IChtb2R1bGUsIGJvZHksIGhhc0F3YWl0KSA9PiB7XG5cdHZhciBxdWV1ZTtcblx0aGFzQXdhaXQgJiYgKChxdWV1ZSA9IFtdKS5kID0gMSk7XG5cdHZhciBkZXBRdWV1ZXMgPSBuZXcgU2V0KCk7XG5cdHZhciBleHBvcnRzID0gbW9kdWxlLmV4cG9ydHM7XG5cdHZhciBjdXJyZW50RGVwcztcblx0dmFyIG91dGVyUmVzb2x2ZTtcblx0dmFyIHJlamVjdDtcblx0dmFyIHByb21pc2UgPSBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqKSA9PiB7XG5cdFx0cmVqZWN0ID0gcmVqO1xuXHRcdG91dGVyUmVzb2x2ZSA9IHJlc29sdmU7XG5cdH0pO1xuXHRwcm9taXNlW3dlYnBhY2tFeHBvcnRzXSA9IGV4cG9ydHM7XG5cdHByb21pc2Vbd2VicGFja1F1ZXVlc10gPSAoZm4pID0+IChxdWV1ZSAmJiBmbihxdWV1ZSksIGRlcFF1ZXVlcy5mb3JFYWNoKGZuKSwgcHJvbWlzZVtcImNhdGNoXCJdKHggPT4ge30pKTtcblx0bW9kdWxlLmV4cG9ydHMgPSBwcm9taXNlO1xuXHRib2R5KChkZXBzKSA9PiB7XG5cdFx0Y3VycmVudERlcHMgPSB3cmFwRGVwcyhkZXBzKTtcblx0XHR2YXIgZm47XG5cdFx0dmFyIGdldFJlc3VsdCA9ICgpID0+IChjdXJyZW50RGVwcy5tYXAoKGQpID0+IHtcblx0XHRcdGlmKGRbd2VicGFja0Vycm9yXSkgdGhyb3cgZFt3ZWJwYWNrRXJyb3JdO1xuXHRcdFx0cmV0dXJuIGRbd2VicGFja0V4cG9ydHNdO1xuXHRcdH0pKVxuXHRcdHZhciBwcm9taXNlID0gbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHtcblx0XHRcdGZuID0gKCkgPT4gKHJlc29sdmUoZ2V0UmVzdWx0KSk7XG5cdFx0XHRmbi5yID0gMDtcblx0XHRcdHZhciBmblF1ZXVlID0gKHEpID0+IChxICE9PSBxdWV1ZSAmJiAhZGVwUXVldWVzLmhhcyhxKSAmJiAoZGVwUXVldWVzLmFkZChxKSwgcSAmJiAhcS5kICYmIChmbi5yKyssIHEucHVzaChmbikpKSk7XG5cdFx0XHRjdXJyZW50RGVwcy5tYXAoKGRlcCkgPT4gKGRlcFt3ZWJwYWNrUXVldWVzXShmblF1ZXVlKSkpO1xuXHRcdH0pO1xuXHRcdHJldHVybiBmbi5yID8gcHJvbWlzZSA6IGdldFJlc3VsdCgpO1xuXHR9LCAoZXJyKSA9PiAoKGVyciA/IHJlamVjdChwcm9taXNlW3dlYnBhY2tFcnJvcl0gPSBlcnIpIDogb3V0ZXJSZXNvbHZlKGV4cG9ydHMpKSwgcmVzb2x2ZVF1ZXVlKHF1ZXVlKSkpO1xuXHRxdWV1ZSAmJiAocXVldWUuZCA9IDApO1xufTsiLCIvLyBJbXBvcnRzXG5pbXBvcnQgX19fQ1NTX0xPQURFUl9BUElfU09VUkNFTUFQX0lNUE9SVF9fXyBmcm9tIFwiLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9ydW50aW1lL3NvdXJjZU1hcHMuanNcIjtcbmltcG9ydCBfX19DU1NfTE9BREVSX0FQSV9JTVBPUlRfX18gZnJvbSBcIi4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvcnVudGltZS9hcGkuanNcIjtcbnZhciBfX19DU1NfTE9BREVSX0VYUE9SVF9fXyA9IF9fX0NTU19MT0FERVJfQVBJX0lNUE9SVF9fXyhfX19DU1NfTE9BREVSX0FQSV9TT1VSQ0VNQVBfSU1QT1JUX19fKTtcbi8vIE1vZHVsZVxuX19fQ1NTX0xPQURFUl9FWFBPUlRfX18ucHVzaChbbW9kdWxlLmlkLCBcImJvZHkge1xcbiAgICBkaXNwbGF5OiBmbGV4O1xcbiAgICBnYXA6IDZyZW07XFxufVxcblxcbi5wbGF5ZXItY29udGFpbmVyIHtcXG4gICAgZGlzcGxheTogZ3JpZDtcXG4gICAgZ3JpZC10ZW1wbGF0ZS1jb2x1bW5zOiByZXBlYXQoMTAsIDNyZW0pO1xcbiAgICBncmlkLXRlbXBsYXRlLXJvd3M6IHJlcGVhdCgxMCwgM3JlbSk7XFxuICAgIGdhcDogLjVyZW07XFxuICAgIGp1c3RpZnktaXRlbXM6IGNlbnRlcjtcXG59XFxuXFxuLmNwdS1jb250YWluZXIge1xcbiAgICBkaXNwbGF5OiBncmlkO1xcbiAgICBncmlkLXRlbXBsYXRlLWNvbHVtbnM6IHJlcGVhdCgxMCwgM3JlbSk7XFxuICAgIGdyaWQtdGVtcGxhdGUtcm93czogcmVwZWF0KDEwLCAzcmVtKTtcXG4gICAgZ2FwOi41cmVtO1xcbiAgICBqdXN0aWZ5LWl0ZW1zOiBjZW50ZXI7XFxufVxcblxcbi5hcmVhIHtcXG4gICAgd2lkdGg6IDNyZW07XFxuICAgIGhlaWdodDogM3JlbTtcXG4gICAgYmFja2dyb3VuZC1jb2xvcjogZ3JlZW47XFxufVxcblxcbi5oaXQge1xcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiByZWQ7XFxufVxcblwiLCBcIlwiLHtcInZlcnNpb25cIjozLFwic291cmNlc1wiOltcIndlYnBhY2s6Ly8uL3NyYy9zdHlsZS5jc3NcIl0sXCJuYW1lc1wiOltdLFwibWFwcGluZ3NcIjpcIkFBQUE7SUFDSSxhQUFhO0lBQ2IsU0FBUztBQUNiOztBQUVBO0lBQ0ksYUFBYTtJQUNiLHVDQUF1QztJQUN2QyxvQ0FBb0M7SUFDcEMsVUFBVTtJQUNWLHFCQUFxQjtBQUN6Qjs7QUFFQTtJQUNJLGFBQWE7SUFDYix1Q0FBdUM7SUFDdkMsb0NBQW9DO0lBQ3BDLFNBQVM7SUFDVCxxQkFBcUI7QUFDekI7O0FBRUE7SUFDSSxXQUFXO0lBQ1gsWUFBWTtJQUNaLHVCQUF1QjtBQUMzQjs7QUFFQTtJQUNJLHFCQUFxQjtBQUN6QlwiLFwic291cmNlc0NvbnRlbnRcIjpbXCJib2R5IHtcXG4gICAgZGlzcGxheTogZmxleDtcXG4gICAgZ2FwOiA2cmVtO1xcbn1cXG5cXG4ucGxheWVyLWNvbnRhaW5lciB7XFxuICAgIGRpc3BsYXk6IGdyaWQ7XFxuICAgIGdyaWQtdGVtcGxhdGUtY29sdW1uczogcmVwZWF0KDEwLCAzcmVtKTtcXG4gICAgZ3JpZC10ZW1wbGF0ZS1yb3dzOiByZXBlYXQoMTAsIDNyZW0pO1xcbiAgICBnYXA6IC41cmVtO1xcbiAgICBqdXN0aWZ5LWl0ZW1zOiBjZW50ZXI7XFxufVxcblxcbi5jcHUtY29udGFpbmVyIHtcXG4gICAgZGlzcGxheTogZ3JpZDtcXG4gICAgZ3JpZC10ZW1wbGF0ZS1jb2x1bW5zOiByZXBlYXQoMTAsIDNyZW0pO1xcbiAgICBncmlkLXRlbXBsYXRlLXJvd3M6IHJlcGVhdCgxMCwgM3JlbSk7XFxuICAgIGdhcDouNXJlbTtcXG4gICAganVzdGlmeS1pdGVtczogY2VudGVyO1xcbn1cXG5cXG4uYXJlYSB7XFxuICAgIHdpZHRoOiAzcmVtO1xcbiAgICBoZWlnaHQ6IDNyZW07XFxuICAgIGJhY2tncm91bmQtY29sb3I6IGdyZWVuO1xcbn1cXG5cXG4uaGl0IHtcXG4gICAgYmFja2dyb3VuZC1jb2xvcjogcmVkO1xcbn1cXG5cIl0sXCJzb3VyY2VSb290XCI6XCJcIn1dKTtcbi8vIEV4cG9ydHNcbmV4cG9ydCBkZWZhdWx0IF9fX0NTU19MT0FERVJfRVhQT1JUX19fO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbi8qXG4gIE1JVCBMaWNlbnNlIGh0dHA6Ly93d3cub3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvbWl0LWxpY2Vuc2UucGhwXG4gIEF1dGhvciBUb2JpYXMgS29wcGVycyBAc29rcmFcbiovXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChjc3NXaXRoTWFwcGluZ1RvU3RyaW5nKSB7XG4gIHZhciBsaXN0ID0gW107IC8vIHJldHVybiB0aGUgbGlzdCBvZiBtb2R1bGVzIGFzIGNzcyBzdHJpbmdcblxuICBsaXN0LnRvU3RyaW5nID0gZnVuY3Rpb24gdG9TdHJpbmcoKSB7XG4gICAgcmV0dXJuIHRoaXMubWFwKGZ1bmN0aW9uIChpdGVtKSB7XG4gICAgICB2YXIgY29udGVudCA9IFwiXCI7XG4gICAgICB2YXIgbmVlZExheWVyID0gdHlwZW9mIGl0ZW1bNV0gIT09IFwidW5kZWZpbmVkXCI7XG5cbiAgICAgIGlmIChpdGVtWzRdKSB7XG4gICAgICAgIGNvbnRlbnQgKz0gXCJAc3VwcG9ydHMgKFwiLmNvbmNhdChpdGVtWzRdLCBcIikge1wiKTtcbiAgICAgIH1cblxuICAgICAgaWYgKGl0ZW1bMl0pIHtcbiAgICAgICAgY29udGVudCArPSBcIkBtZWRpYSBcIi5jb25jYXQoaXRlbVsyXSwgXCIge1wiKTtcbiAgICAgIH1cblxuICAgICAgaWYgKG5lZWRMYXllcikge1xuICAgICAgICBjb250ZW50ICs9IFwiQGxheWVyXCIuY29uY2F0KGl0ZW1bNV0ubGVuZ3RoID4gMCA/IFwiIFwiLmNvbmNhdChpdGVtWzVdKSA6IFwiXCIsIFwiIHtcIik7XG4gICAgICB9XG5cbiAgICAgIGNvbnRlbnQgKz0gY3NzV2l0aE1hcHBpbmdUb1N0cmluZyhpdGVtKTtcblxuICAgICAgaWYgKG5lZWRMYXllcikge1xuICAgICAgICBjb250ZW50ICs9IFwifVwiO1xuICAgICAgfVxuXG4gICAgICBpZiAoaXRlbVsyXSkge1xuICAgICAgICBjb250ZW50ICs9IFwifVwiO1xuICAgICAgfVxuXG4gICAgICBpZiAoaXRlbVs0XSkge1xuICAgICAgICBjb250ZW50ICs9IFwifVwiO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gY29udGVudDtcbiAgICB9KS5qb2luKFwiXCIpO1xuICB9OyAvLyBpbXBvcnQgYSBsaXN0IG9mIG1vZHVsZXMgaW50byB0aGUgbGlzdFxuXG5cbiAgbGlzdC5pID0gZnVuY3Rpb24gaShtb2R1bGVzLCBtZWRpYSwgZGVkdXBlLCBzdXBwb3J0cywgbGF5ZXIpIHtcbiAgICBpZiAodHlwZW9mIG1vZHVsZXMgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgIG1vZHVsZXMgPSBbW251bGwsIG1vZHVsZXMsIHVuZGVmaW5lZF1dO1xuICAgIH1cblxuICAgIHZhciBhbHJlYWR5SW1wb3J0ZWRNb2R1bGVzID0ge307XG5cbiAgICBpZiAoZGVkdXBlKSB7XG4gICAgICBmb3IgKHZhciBrID0gMDsgayA8IHRoaXMubGVuZ3RoOyBrKyspIHtcbiAgICAgICAgdmFyIGlkID0gdGhpc1trXVswXTtcblxuICAgICAgICBpZiAoaWQgIT0gbnVsbCkge1xuICAgICAgICAgIGFscmVhZHlJbXBvcnRlZE1vZHVsZXNbaWRdID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIGZvciAodmFyIF9rID0gMDsgX2sgPCBtb2R1bGVzLmxlbmd0aDsgX2srKykge1xuICAgICAgdmFyIGl0ZW0gPSBbXS5jb25jYXQobW9kdWxlc1tfa10pO1xuXG4gICAgICBpZiAoZGVkdXBlICYmIGFscmVhZHlJbXBvcnRlZE1vZHVsZXNbaXRlbVswXV0pIHtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG5cbiAgICAgIGlmICh0eXBlb2YgbGF5ZXIgIT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBpdGVtWzVdID09PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICAgICAgaXRlbVs1XSA9IGxheWVyO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGl0ZW1bMV0gPSBcIkBsYXllclwiLmNvbmNhdChpdGVtWzVdLmxlbmd0aCA+IDAgPyBcIiBcIi5jb25jYXQoaXRlbVs1XSkgOiBcIlwiLCBcIiB7XCIpLmNvbmNhdChpdGVtWzFdLCBcIn1cIik7XG4gICAgICAgICAgaXRlbVs1XSA9IGxheWVyO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGlmIChtZWRpYSkge1xuICAgICAgICBpZiAoIWl0ZW1bMl0pIHtcbiAgICAgICAgICBpdGVtWzJdID0gbWVkaWE7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaXRlbVsxXSA9IFwiQG1lZGlhIFwiLmNvbmNhdChpdGVtWzJdLCBcIiB7XCIpLmNvbmNhdChpdGVtWzFdLCBcIn1cIik7XG4gICAgICAgICAgaXRlbVsyXSA9IG1lZGlhO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGlmIChzdXBwb3J0cykge1xuICAgICAgICBpZiAoIWl0ZW1bNF0pIHtcbiAgICAgICAgICBpdGVtWzRdID0gXCJcIi5jb25jYXQoc3VwcG9ydHMpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGl0ZW1bMV0gPSBcIkBzdXBwb3J0cyAoXCIuY29uY2F0KGl0ZW1bNF0sIFwiKSB7XCIpLmNvbmNhdChpdGVtWzFdLCBcIn1cIik7XG4gICAgICAgICAgaXRlbVs0XSA9IHN1cHBvcnRzO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGxpc3QucHVzaChpdGVtKTtcbiAgICB9XG4gIH07XG5cbiAgcmV0dXJuIGxpc3Q7XG59OyIsIlwidXNlIHN0cmljdFwiO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChpdGVtKSB7XG4gIHZhciBjb250ZW50ID0gaXRlbVsxXTtcbiAgdmFyIGNzc01hcHBpbmcgPSBpdGVtWzNdO1xuXG4gIGlmICghY3NzTWFwcGluZykge1xuICAgIHJldHVybiBjb250ZW50O1xuICB9XG5cbiAgaWYgKHR5cGVvZiBidG9hID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICB2YXIgYmFzZTY0ID0gYnRvYSh1bmVzY2FwZShlbmNvZGVVUklDb21wb25lbnQoSlNPTi5zdHJpbmdpZnkoY3NzTWFwcGluZykpKSk7XG4gICAgdmFyIGRhdGEgPSBcInNvdXJjZU1hcHBpbmdVUkw9ZGF0YTphcHBsaWNhdGlvbi9qc29uO2NoYXJzZXQ9dXRmLTg7YmFzZTY0LFwiLmNvbmNhdChiYXNlNjQpO1xuICAgIHZhciBzb3VyY2VNYXBwaW5nID0gXCIvKiMgXCIuY29uY2F0KGRhdGEsIFwiICovXCIpO1xuICAgIHZhciBzb3VyY2VVUkxzID0gY3NzTWFwcGluZy5zb3VyY2VzLm1hcChmdW5jdGlvbiAoc291cmNlKSB7XG4gICAgICByZXR1cm4gXCIvKiMgc291cmNlVVJMPVwiLmNvbmNhdChjc3NNYXBwaW5nLnNvdXJjZVJvb3QgfHwgXCJcIikuY29uY2F0KHNvdXJjZSwgXCIgKi9cIik7XG4gICAgfSk7XG4gICAgcmV0dXJuIFtjb250ZW50XS5jb25jYXQoc291cmNlVVJMcykuY29uY2F0KFtzb3VyY2VNYXBwaW5nXSkuam9pbihcIlxcblwiKTtcbiAgfVxuXG4gIHJldHVybiBbY29udGVudF0uam9pbihcIlxcblwiKTtcbn07IiwiXG4gICAgICBpbXBvcnQgQVBJIGZyb20gXCIhLi4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvaW5qZWN0U3R5bGVzSW50b1N0eWxlVGFnLmpzXCI7XG4gICAgICBpbXBvcnQgZG9tQVBJIGZyb20gXCIhLi4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvc3R5bGVEb21BUEkuanNcIjtcbiAgICAgIGltcG9ydCBpbnNlcnRGbiBmcm9tIFwiIS4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL2luc2VydEJ5U2VsZWN0b3IuanNcIjtcbiAgICAgIGltcG9ydCBzZXRBdHRyaWJ1dGVzIGZyb20gXCIhLi4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvc2V0QXR0cmlidXRlc1dpdGhvdXRBdHRyaWJ1dGVzLmpzXCI7XG4gICAgICBpbXBvcnQgaW5zZXJ0U3R5bGVFbGVtZW50IGZyb20gXCIhLi4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvaW5zZXJ0U3R5bGVFbGVtZW50LmpzXCI7XG4gICAgICBpbXBvcnQgc3R5bGVUYWdUcmFuc2Zvcm1GbiBmcm9tIFwiIS4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL3N0eWxlVGFnVHJhbnNmb3JtLmpzXCI7XG4gICAgICBpbXBvcnQgY29udGVudCwgKiBhcyBuYW1lZEV4cG9ydCBmcm9tIFwiISEuLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L2Nqcy5qcyEuL3N0eWxlLmNzc1wiO1xuICAgICAgXG4gICAgICBcblxudmFyIG9wdGlvbnMgPSB7fTtcblxub3B0aW9ucy5zdHlsZVRhZ1RyYW5zZm9ybSA9IHN0eWxlVGFnVHJhbnNmb3JtRm47XG5vcHRpb25zLnNldEF0dHJpYnV0ZXMgPSBzZXRBdHRyaWJ1dGVzO1xuXG4gICAgICBvcHRpb25zLmluc2VydCA9IGluc2VydEZuLmJpbmQobnVsbCwgXCJoZWFkXCIpO1xuICAgIFxub3B0aW9ucy5kb21BUEkgPSBkb21BUEk7XG5vcHRpb25zLmluc2VydFN0eWxlRWxlbWVudCA9IGluc2VydFN0eWxlRWxlbWVudDtcblxudmFyIHVwZGF0ZSA9IEFQSShjb250ZW50LCBvcHRpb25zKTtcblxuXG5cbmV4cG9ydCAqIGZyb20gXCIhIS4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvY2pzLmpzIS4vc3R5bGUuY3NzXCI7XG4gICAgICAgZXhwb3J0IGRlZmF1bHQgY29udGVudCAmJiBjb250ZW50LmxvY2FscyA/IGNvbnRlbnQubG9jYWxzIDogdW5kZWZpbmVkO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciBzdHlsZXNJbkRPTSA9IFtdO1xuXG5mdW5jdGlvbiBnZXRJbmRleEJ5SWRlbnRpZmllcihpZGVudGlmaWVyKSB7XG4gIHZhciByZXN1bHQgPSAtMTtcblxuICBmb3IgKHZhciBpID0gMDsgaSA8IHN0eWxlc0luRE9NLmxlbmd0aDsgaSsrKSB7XG4gICAgaWYgKHN0eWxlc0luRE9NW2ldLmlkZW50aWZpZXIgPT09IGlkZW50aWZpZXIpIHtcbiAgICAgIHJlc3VsdCA9IGk7XG4gICAgICBicmVhaztcbiAgICB9XG4gIH1cblxuICByZXR1cm4gcmVzdWx0O1xufVxuXG5mdW5jdGlvbiBtb2R1bGVzVG9Eb20obGlzdCwgb3B0aW9ucykge1xuICB2YXIgaWRDb3VudE1hcCA9IHt9O1xuICB2YXIgaWRlbnRpZmllcnMgPSBbXTtcblxuICBmb3IgKHZhciBpID0gMDsgaSA8IGxpc3QubGVuZ3RoOyBpKyspIHtcbiAgICB2YXIgaXRlbSA9IGxpc3RbaV07XG4gICAgdmFyIGlkID0gb3B0aW9ucy5iYXNlID8gaXRlbVswXSArIG9wdGlvbnMuYmFzZSA6IGl0ZW1bMF07XG4gICAgdmFyIGNvdW50ID0gaWRDb3VudE1hcFtpZF0gfHwgMDtcbiAgICB2YXIgaWRlbnRpZmllciA9IFwiXCIuY29uY2F0KGlkLCBcIiBcIikuY29uY2F0KGNvdW50KTtcbiAgICBpZENvdW50TWFwW2lkXSA9IGNvdW50ICsgMTtcbiAgICB2YXIgaW5kZXhCeUlkZW50aWZpZXIgPSBnZXRJbmRleEJ5SWRlbnRpZmllcihpZGVudGlmaWVyKTtcbiAgICB2YXIgb2JqID0ge1xuICAgICAgY3NzOiBpdGVtWzFdLFxuICAgICAgbWVkaWE6IGl0ZW1bMl0sXG4gICAgICBzb3VyY2VNYXA6IGl0ZW1bM10sXG4gICAgICBzdXBwb3J0czogaXRlbVs0XSxcbiAgICAgIGxheWVyOiBpdGVtWzVdXG4gICAgfTtcblxuICAgIGlmIChpbmRleEJ5SWRlbnRpZmllciAhPT0gLTEpIHtcbiAgICAgIHN0eWxlc0luRE9NW2luZGV4QnlJZGVudGlmaWVyXS5yZWZlcmVuY2VzKys7XG4gICAgICBzdHlsZXNJbkRPTVtpbmRleEJ5SWRlbnRpZmllcl0udXBkYXRlcihvYmopO1xuICAgIH0gZWxzZSB7XG4gICAgICB2YXIgdXBkYXRlciA9IGFkZEVsZW1lbnRTdHlsZShvYmosIG9wdGlvbnMpO1xuICAgICAgb3B0aW9ucy5ieUluZGV4ID0gaTtcbiAgICAgIHN0eWxlc0luRE9NLnNwbGljZShpLCAwLCB7XG4gICAgICAgIGlkZW50aWZpZXI6IGlkZW50aWZpZXIsXG4gICAgICAgIHVwZGF0ZXI6IHVwZGF0ZXIsXG4gICAgICAgIHJlZmVyZW5jZXM6IDFcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIGlkZW50aWZpZXJzLnB1c2goaWRlbnRpZmllcik7XG4gIH1cblxuICByZXR1cm4gaWRlbnRpZmllcnM7XG59XG5cbmZ1bmN0aW9uIGFkZEVsZW1lbnRTdHlsZShvYmosIG9wdGlvbnMpIHtcbiAgdmFyIGFwaSA9IG9wdGlvbnMuZG9tQVBJKG9wdGlvbnMpO1xuICBhcGkudXBkYXRlKG9iaik7XG5cbiAgdmFyIHVwZGF0ZXIgPSBmdW5jdGlvbiB1cGRhdGVyKG5ld09iaikge1xuICAgIGlmIChuZXdPYmopIHtcbiAgICAgIGlmIChuZXdPYmouY3NzID09PSBvYmouY3NzICYmIG5ld09iai5tZWRpYSA9PT0gb2JqLm1lZGlhICYmIG5ld09iai5zb3VyY2VNYXAgPT09IG9iai5zb3VyY2VNYXAgJiYgbmV3T2JqLnN1cHBvcnRzID09PSBvYmouc3VwcG9ydHMgJiYgbmV3T2JqLmxheWVyID09PSBvYmoubGF5ZXIpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBhcGkudXBkYXRlKG9iaiA9IG5ld09iaik7XG4gICAgfSBlbHNlIHtcbiAgICAgIGFwaS5yZW1vdmUoKTtcbiAgICB9XG4gIH07XG5cbiAgcmV0dXJuIHVwZGF0ZXI7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGxpc3QsIG9wdGlvbnMpIHtcbiAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG4gIGxpc3QgPSBsaXN0IHx8IFtdO1xuICB2YXIgbGFzdElkZW50aWZpZXJzID0gbW9kdWxlc1RvRG9tKGxpc3QsIG9wdGlvbnMpO1xuICByZXR1cm4gZnVuY3Rpb24gdXBkYXRlKG5ld0xpc3QpIHtcbiAgICBuZXdMaXN0ID0gbmV3TGlzdCB8fCBbXTtcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGFzdElkZW50aWZpZXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIgaWRlbnRpZmllciA9IGxhc3RJZGVudGlmaWVyc1tpXTtcbiAgICAgIHZhciBpbmRleCA9IGdldEluZGV4QnlJZGVudGlmaWVyKGlkZW50aWZpZXIpO1xuICAgICAgc3R5bGVzSW5ET01baW5kZXhdLnJlZmVyZW5jZXMtLTtcbiAgICB9XG5cbiAgICB2YXIgbmV3TGFzdElkZW50aWZpZXJzID0gbW9kdWxlc1RvRG9tKG5ld0xpc3QsIG9wdGlvbnMpO1xuXG4gICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IGxhc3RJZGVudGlmaWVycy5sZW5ndGg7IF9pKyspIHtcbiAgICAgIHZhciBfaWRlbnRpZmllciA9IGxhc3RJZGVudGlmaWVyc1tfaV07XG5cbiAgICAgIHZhciBfaW5kZXggPSBnZXRJbmRleEJ5SWRlbnRpZmllcihfaWRlbnRpZmllcik7XG5cbiAgICAgIGlmIChzdHlsZXNJbkRPTVtfaW5kZXhdLnJlZmVyZW5jZXMgPT09IDApIHtcbiAgICAgICAgc3R5bGVzSW5ET01bX2luZGV4XS51cGRhdGVyKCk7XG5cbiAgICAgICAgc3R5bGVzSW5ET00uc3BsaWNlKF9pbmRleCwgMSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgbGFzdElkZW50aWZpZXJzID0gbmV3TGFzdElkZW50aWZpZXJzO1xuICB9O1xufTsiLCJcInVzZSBzdHJpY3RcIjtcblxudmFyIG1lbW8gPSB7fTtcbi8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICAqL1xuXG5mdW5jdGlvbiBnZXRUYXJnZXQodGFyZ2V0KSB7XG4gIGlmICh0eXBlb2YgbWVtb1t0YXJnZXRdID09PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgdmFyIHN0eWxlVGFyZ2V0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcih0YXJnZXQpOyAvLyBTcGVjaWFsIGNhc2UgdG8gcmV0dXJuIGhlYWQgb2YgaWZyYW1lIGluc3RlYWQgb2YgaWZyYW1lIGl0c2VsZlxuXG4gICAgaWYgKHdpbmRvdy5IVE1MSUZyYW1lRWxlbWVudCAmJiBzdHlsZVRhcmdldCBpbnN0YW5jZW9mIHdpbmRvdy5IVE1MSUZyYW1lRWxlbWVudCkge1xuICAgICAgdHJ5IHtcbiAgICAgICAgLy8gVGhpcyB3aWxsIHRocm93IGFuIGV4Y2VwdGlvbiBpZiBhY2Nlc3MgdG8gaWZyYW1lIGlzIGJsb2NrZWRcbiAgICAgICAgLy8gZHVlIHRvIGNyb3NzLW9yaWdpbiByZXN0cmljdGlvbnNcbiAgICAgICAgc3R5bGVUYXJnZXQgPSBzdHlsZVRhcmdldC5jb250ZW50RG9jdW1lbnQuaGVhZDtcbiAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgLy8gaXN0YW5idWwgaWdub3JlIG5leHRcbiAgICAgICAgc3R5bGVUYXJnZXQgPSBudWxsO1xuICAgICAgfVxuICAgIH1cblxuICAgIG1lbW9bdGFyZ2V0XSA9IHN0eWxlVGFyZ2V0O1xuICB9XG5cbiAgcmV0dXJuIG1lbW9bdGFyZ2V0XTtcbn1cbi8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICAqL1xuXG5cbmZ1bmN0aW9uIGluc2VydEJ5U2VsZWN0b3IoaW5zZXJ0LCBzdHlsZSkge1xuICB2YXIgdGFyZ2V0ID0gZ2V0VGFyZ2V0KGluc2VydCk7XG5cbiAgaWYgKCF0YXJnZXQpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJDb3VsZG4ndCBmaW5kIGEgc3R5bGUgdGFyZ2V0LiBUaGlzIHByb2JhYmx5IG1lYW5zIHRoYXQgdGhlIHZhbHVlIGZvciB0aGUgJ2luc2VydCcgcGFyYW1ldGVyIGlzIGludmFsaWQuXCIpO1xuICB9XG5cbiAgdGFyZ2V0LmFwcGVuZENoaWxkKHN0eWxlKTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBpbnNlcnRCeVNlbGVjdG9yOyIsIlwidXNlIHN0cmljdFwiO1xuXG4vKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAgKi9cbmZ1bmN0aW9uIGluc2VydFN0eWxlRWxlbWVudChvcHRpb25zKSB7XG4gIHZhciBlbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInN0eWxlXCIpO1xuICBvcHRpb25zLnNldEF0dHJpYnV0ZXMoZWxlbWVudCwgb3B0aW9ucy5hdHRyaWJ1dGVzKTtcbiAgb3B0aW9ucy5pbnNlcnQoZWxlbWVudCwgb3B0aW9ucy5vcHRpb25zKTtcbiAgcmV0dXJuIGVsZW1lbnQ7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gaW5zZXJ0U3R5bGVFbGVtZW50OyIsIlwidXNlIHN0cmljdFwiO1xuXG4vKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAgKi9cbmZ1bmN0aW9uIHNldEF0dHJpYnV0ZXNXaXRob3V0QXR0cmlidXRlcyhzdHlsZUVsZW1lbnQpIHtcbiAgdmFyIG5vbmNlID0gdHlwZW9mIF9fd2VicGFja19ub25jZV9fICE9PSBcInVuZGVmaW5lZFwiID8gX193ZWJwYWNrX25vbmNlX18gOiBudWxsO1xuXG4gIGlmIChub25jZSkge1xuICAgIHN0eWxlRWxlbWVudC5zZXRBdHRyaWJ1dGUoXCJub25jZVwiLCBub25jZSk7XG4gIH1cbn1cblxubW9kdWxlLmV4cG9ydHMgPSBzZXRBdHRyaWJ1dGVzV2l0aG91dEF0dHJpYnV0ZXM7IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbi8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICAqL1xuZnVuY3Rpb24gYXBwbHkoc3R5bGVFbGVtZW50LCBvcHRpb25zLCBvYmopIHtcbiAgdmFyIGNzcyA9IFwiXCI7XG5cbiAgaWYgKG9iai5zdXBwb3J0cykge1xuICAgIGNzcyArPSBcIkBzdXBwb3J0cyAoXCIuY29uY2F0KG9iai5zdXBwb3J0cywgXCIpIHtcIik7XG4gIH1cblxuICBpZiAob2JqLm1lZGlhKSB7XG4gICAgY3NzICs9IFwiQG1lZGlhIFwiLmNvbmNhdChvYmoubWVkaWEsIFwiIHtcIik7XG4gIH1cblxuICB2YXIgbmVlZExheWVyID0gdHlwZW9mIG9iai5sYXllciAhPT0gXCJ1bmRlZmluZWRcIjtcblxuICBpZiAobmVlZExheWVyKSB7XG4gICAgY3NzICs9IFwiQGxheWVyXCIuY29uY2F0KG9iai5sYXllci5sZW5ndGggPiAwID8gXCIgXCIuY29uY2F0KG9iai5sYXllcikgOiBcIlwiLCBcIiB7XCIpO1xuICB9XG5cbiAgY3NzICs9IG9iai5jc3M7XG5cbiAgaWYgKG5lZWRMYXllcikge1xuICAgIGNzcyArPSBcIn1cIjtcbiAgfVxuXG4gIGlmIChvYmoubWVkaWEpIHtcbiAgICBjc3MgKz0gXCJ9XCI7XG4gIH1cblxuICBpZiAob2JqLnN1cHBvcnRzKSB7XG4gICAgY3NzICs9IFwifVwiO1xuICB9XG5cbiAgdmFyIHNvdXJjZU1hcCA9IG9iai5zb3VyY2VNYXA7XG5cbiAgaWYgKHNvdXJjZU1hcCAmJiB0eXBlb2YgYnRvYSAhPT0gXCJ1bmRlZmluZWRcIikge1xuICAgIGNzcyArPSBcIlxcbi8qIyBzb3VyY2VNYXBwaW5nVVJMPWRhdGE6YXBwbGljYXRpb24vanNvbjtiYXNlNjQsXCIuY29uY2F0KGJ0b2EodW5lc2NhcGUoZW5jb2RlVVJJQ29tcG9uZW50KEpTT04uc3RyaW5naWZ5KHNvdXJjZU1hcCkpKSksIFwiICovXCIpO1xuICB9IC8vIEZvciBvbGQgSUVcblxuICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgICovXG5cblxuICBvcHRpb25zLnN0eWxlVGFnVHJhbnNmb3JtKGNzcywgc3R5bGVFbGVtZW50LCBvcHRpb25zLm9wdGlvbnMpO1xufVxuXG5mdW5jdGlvbiByZW1vdmVTdHlsZUVsZW1lbnQoc3R5bGVFbGVtZW50KSB7XG4gIC8vIGlzdGFuYnVsIGlnbm9yZSBpZlxuICBpZiAoc3R5bGVFbGVtZW50LnBhcmVudE5vZGUgPT09IG51bGwpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICBzdHlsZUVsZW1lbnQucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChzdHlsZUVsZW1lbnQpO1xufVxuLyogaXN0YW5idWwgaWdub3JlIG5leHQgICovXG5cblxuZnVuY3Rpb24gZG9tQVBJKG9wdGlvbnMpIHtcbiAgdmFyIHN0eWxlRWxlbWVudCA9IG9wdGlvbnMuaW5zZXJ0U3R5bGVFbGVtZW50KG9wdGlvbnMpO1xuICByZXR1cm4ge1xuICAgIHVwZGF0ZTogZnVuY3Rpb24gdXBkYXRlKG9iaikge1xuICAgICAgYXBwbHkoc3R5bGVFbGVtZW50LCBvcHRpb25zLCBvYmopO1xuICAgIH0sXG4gICAgcmVtb3ZlOiBmdW5jdGlvbiByZW1vdmUoKSB7XG4gICAgICByZW1vdmVTdHlsZUVsZW1lbnQoc3R5bGVFbGVtZW50KTtcbiAgICB9XG4gIH07XG59XG5cbm1vZHVsZS5leHBvcnRzID0gZG9tQVBJOyIsIlwidXNlIHN0cmljdFwiO1xuXG4vKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAgKi9cbmZ1bmN0aW9uIHN0eWxlVGFnVHJhbnNmb3JtKGNzcywgc3R5bGVFbGVtZW50KSB7XG4gIGlmIChzdHlsZUVsZW1lbnQuc3R5bGVTaGVldCkge1xuICAgIHN0eWxlRWxlbWVudC5zdHlsZVNoZWV0LmNzc1RleHQgPSBjc3M7XG4gIH0gZWxzZSB7XG4gICAgd2hpbGUgKHN0eWxlRWxlbWVudC5maXJzdENoaWxkKSB7XG4gICAgICBzdHlsZUVsZW1lbnQucmVtb3ZlQ2hpbGQoc3R5bGVFbGVtZW50LmZpcnN0Q2hpbGQpO1xuICAgIH1cblxuICAgIHN0eWxlRWxlbWVudC5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShjc3MpKTtcbiAgfVxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHN0eWxlVGFnVHJhbnNmb3JtOyIsImltcG9ydCB7IFNoaXAgfSBmcm9tIFwiLi9zaGlwXCJcblxuZXhwb3J0IGNsYXNzIEdhbWVib2FyZCB7XG5cbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhpcy5nYW1lYm9hcmQgPSB0aGlzLmNyZWF0ZUJvYXJkKCk7XG4gICAgICAgIHRoaXMuY2FycmllciA9IG5ldyBTaGlwKDUpO1xuICAgICAgICB0aGlzLmJhdHRsZXNoaXAgPSBuZXcgU2hpcCg0KTtcbiAgICAgICAgdGhpcy5jcnVpc2VyID0gbmV3IFNoaXAoMyk7XG4gICAgICAgIHRoaXMuc3VibWFyaW5lID0gbmV3IFNoaXAoMyk7XG4gICAgICAgIHRoaXMuZGVzdHJveWVyID0gbmV3IFNoaXAoMik7XG4gICAgfVxuXG4gICAgY3JlYXRlQm9hcmQoKSB7XG4gICAgICAgIGxldCBnYW1lYm9hcmQgPSBbXTtcbiAgICAgICAgZm9yKGxldCBpPSAwOyBpIDwgMTAwOyBpKyspIHtcbiAgICAgICAgICAgIGdhbWVib2FyZC5wdXNoKHtzaGlwOiBmYWxzZSwgc3RhdGU6IFwiaW50YWN0XCIsIHBvc2l0aW9uOiBpfSlcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZ2FtZWJvYXJkO1xuICAgIH1cblxuICAgIHBsYWNlU2hpcChkaXJlY3Rpb24sIGxlbmd0aCwgc3RhcnRpbmdQb3NpdGlvbiwgdHlwZSkge1xuICAgICAgICBcbiAgICAgICAgbGV0IHRlbXBQb3NpdGlvbiA9IHN0YXJ0aW5nUG9zaXRpb247XG5cbiAgICAgICAgaWYobGVuZ3RoIDwgMiB8fCBsZW5ndGggPiA1KSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICBcbiAgICAgICAgaWYoZGlyZWN0aW9uID09ICdob3Jpem9udGFsJykge1xuXG4gICAgICAgICAgICAvL21hdGggdG8gbm90IGV4Y2VlZCBnYW1lYm9hcmRcblxuICAgICAgICAgICAgaWYoc3RhcnRpbmdQb3NpdGlvbiA+PSAxMCkge1xuICAgICAgICAgICAgICAgIHdoaWxlKDEwIDwgdGVtcFBvc2l0aW9uKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmKHRlbXBQb3NpdGlvbiAlIDEwID09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBQb3NpdGlvbiAvIDEwO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGVtcFBvc2l0aW9uICU9IDEwO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgIC8vZG9udCBleGNlZWQgZ2FtZWJvYXJkXG4gICAgICAgICAgICBpZihsZW5ndGggPiAxMCAtIHRlbXBQb3NpdGlvbikge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgZm9yKGxldCBpID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgaWYoaSA9PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZ2FtZWJvYXJkW3N0YXJ0aW5nUG9zaXRpb25dLnNoaXAgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmdhbWVib2FyZFtzdGFydGluZ1Bvc2l0aW9uXS50eXBlID0gdHlwZTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmdhbWVib2FyZFtzdGFydGluZ1Bvc2l0aW9uICsgaV0uc2hpcCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZ2FtZWJvYXJkW3N0YXJ0aW5nUG9zaXRpb24gKyBpXS50eXBlID0gdHlwZTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmKGRpcmVjdGlvbiA9PSAndmVydGljYWwnKSB7XG5cbiAgICAgICAgICAgIGlmKGxlbmd0aCAqIDEwID49ICgxMDAgLSBzdGFydGluZ1Bvc2l0aW9uKSkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgZm9yKGxldCBpID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5nYW1lYm9hcmRbc3RhcnRpbmdQb3NpdGlvbiArICgxMCAqIGkpXS5zaGlwID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB0aGlzLmdhbWVib2FyZFtzdGFydGluZ1Bvc2l0aW9uICsgKDEwICogaSldLnR5cGUgPSB0eXBlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICB9XG5cbiAgICByZWNlaXZlQXR0YWNrKHBvc2l0aW9uKSB7XG5cbiAgICAgICAgbGV0IGhpdEluZGV4QXJyYXkgPSBbXTtcbiAgICAgICAgdGhpcy5nYW1lYm9hcmRbcG9zaXRpb25dLnN0YXRlID0gJ2hpdCc7XG5cblxuICAgICAgICBpZih0aGlzLmdhbWVib2FyZFtwb3NpdGlvbl0uc2hpcCA9PSB0cnVlKSB7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGxldCBzaGlwVHlwZSA9IHRoaXMuZ2FtZWJvYXJkW3Bvc2l0aW9uXS50eXBlO1xuICAgICAgICAgICAgbGV0IHNoaXBBcnJheSA9IHRoaXMuZ2FtZWJvYXJkLmZpbHRlcih2YWx1ZSA9PiB2YWx1ZS50eXBlID09IGAke3NoaXBUeXBlfWApO1xuXG4gICAgICAgICAgICBmb3IgKGNvbnN0IGtleSBvZiBzaGlwQXJyYXkpIHtcbiAgICAgICAgICAgICAgICBpZihrZXkuc3RhdGUgPT0gJ2hpdCcpIHtcbiAgICAgICAgICAgICAgICAgICAgaGl0SW5kZXhBcnJheS5wdXNoKHNoaXBBcnJheS5pbmRleE9mKGtleSkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYoaGl0SW5kZXhBcnJheS5sZW5ndGggIT0gMCkge1xuXG4gICAgICAgICAgICAgICAgaWYoc2hpcFR5cGUgPT0gJ2NhcnJpZXInKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgZm9yKGNvbnN0IGtleSBvZiBoaXRJbmRleEFycmF5KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAodGhpcy5jYXJyaWVyLnpvbmVzW2B6b25lJHtrZXkgKyAxfWBdKSA9ICdoaXQnO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgXG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChzaGlwVHlwZSA9PSAnYmF0dGxlc2hpcCcpIHtcbiAgICBcbiAgICAgICAgICAgICAgICAgICAgZm9yKGNvbnN0IGtleSBvZiBoaXRJbmRleEFycmF5KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAodGhpcy5iYXR0bGVzaGlwLnpvbmVzW2B6b25lJHtrZXkgKyAxfWBdKSA9ICdoaXQnO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgXG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChzaGlwVHlwZSA9PSAnc3VibWFyaW5lJykge1xuICAgIFxuICAgICAgICAgICAgICAgICAgICBmb3IoY29uc3Qga2V5IG9mIGhpdEluZGV4QXJyYXkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICh0aGlzLnN1Ym1hcmluZS56b25lc1tgem9uZSR7a2V5ICsgMX1gXSkgPSAnaGl0JztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgIFxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoc2hpcFR5cGUgPT0gJ2NydWlzZXInKSB7XG4gICAgXG4gICAgICAgICAgICAgICAgICAgIGZvcihjb25zdCBrZXkgb2YgaGl0SW5kZXhBcnJheSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgKHRoaXMuY3J1aXNlci56b25lc1tgem9uZSR7a2V5ICsgMX1gXSkgPSAnaGl0JztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgIFxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoc2hpcFR5cGUgPT0gJ2Rlc3Ryb3llcicpIHtcbiAgICBcbiAgICAgICAgICAgICAgICAgICAgZm9yKGNvbnN0IGtleSBvZiBoaXRJbmRleEFycmF5KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAodGhpcy5kZXN0cm95ZXIuem9uZXNbYHpvbmUke2tleSArIDF9YF0pID0gJ2hpdCc7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICBcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuZ2FtZWJvYXJkW3Bvc2l0aW9uXS5taXNzID0gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgfVxuXG4gICAgYXJlQWxsU2hpcHNTdW5rKCkge1xuXG4gICAgICAgIGlmKE9iamVjdC52YWx1ZXModGhpcy5jYXJyaWVyLnpvbmVzKS5ldmVyeSh2YWx1ZSA9PiB2YWx1ZSA9PSAnaGl0JykgJiZcbiAgICAgICAgT2JqZWN0LnZhbHVlcyh0aGlzLmJhdHRsZXNoaXAuem9uZXMpLmV2ZXJ5KHZhbHVlID0+IHZhbHVlID09ICdoaXQnKSAmJlxuICAgICAgICBPYmplY3QudmFsdWVzKHRoaXMuY3J1aXNlci56b25lcykuZXZlcnkodmFsdWUgPT4gdmFsdWUgPT0gJ2hpdCcpICYmXG4gICAgICAgIE9iamVjdC52YWx1ZXModGhpcy5zdWJtYXJpbmUuem9uZXMpLmV2ZXJ5KHZhbHVlID0+IHZhbHVlID09ICdoaXQnKSAmJlxuICAgICAgICBPYmplY3QudmFsdWVzKHRoaXMuZGVzdHJveWVyLnpvbmVzKS5ldmVyeSh2YWx1ZSA9PiB2YWx1ZSA9PSAnaGl0JykpIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgfVxufVxuXG5leHBvcnQgY29uc3QgYm9hcmQgPSBuZXcgR2FtZWJvYXJkKCk7IiwiaW1wb3J0IFwiLi9zdHlsZS5jc3NcIjtcbmltcG9ydCB7IEdhbWVib2FyZCB9IGZyb20gXCIuL2dhbWVib2FyZFwiO1xuaW1wb3J0IHsgU2hpcCB9IGZyb20gXCIuL3NoaXBcIjtcbmltcG9ydCB7IFBsYXllciB9IGZyb20gXCIuL3BsYXllclwiO1xuXG5hc3luYyBmdW5jdGlvbiBnZXROdW1iZXIoKSB7XG4gICAgdHJ5IHtcbiAgICAgICAgbGV0IGZpcnN0TnVtYmVyID0gYXdhaXQgZmV0Y2goXCJodHRwOi8vd3d3LnJhbmRvbW51bWJlcmFwaS5jb20vYXBpL3YxLjAvcmFuZG9tP21pbj0wJm1heD05JmNvdW50PTFcIik7XG4gICAgICAgIGxldCBzZWNvbmROdW1iZXIgPSBhd2FpdCBmZXRjaChcImh0dHA6Ly93d3cucmFuZG9tbnVtYmVyYXBpLmNvbS9hcGkvdjEuMC9yYW5kb20/bWluPTAmbWF4PTQmY291bnQ9MVwiKTtcbiAgICAgICAgY29uc3QgZmlyc3Rqc29uID0gYXdhaXQgZmlyc3ROdW1iZXIuanNvbigpO1xuICAgICAgICBjb25zdCBzZWNvbmRqc29uID0gYXdhaXQgc2Vjb25kTnVtYmVyLmpzb24oKTtcbiAgICAgICAgbGV0IHN0cmluZ051bWJlciA9IFN0cmluZyhmaXJzdGpzb24pICsgU3RyaW5nKHNlY29uZGpzb24pO1xuICAgICAgICBsZXQgcmFuZG9tTnVtYmVyID0gTnVtYmVyKHN0cmluZ051bWJlcik7XG4gICAgICAgIHJldHVybiByYW5kb21OdW1iZXI7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgY29uc29sZS5sb2coZXJyb3IpO1xuICAgIH1cbn1cblxuY29uc3QgcGxheWVyT25lID0gbmV3IFBsYXllcigncGxheWVyMScpO1xuY29uc3QgQ1BVID0gbmV3IFBsYXllcignQ1BVJyk7XG5cbmxldCBzdGFydGluZ1Bvc2l0aW9uID0gYXdhaXQgZ2V0TnVtYmVyKCk7XG5cbmFzeW5jIGZ1bmN0aW9uIHBsYWNlQ2FycmllcigpIHtcbiAgICB0cnkge1xuICAgICAgICBjb25zb2xlLmxvZyhzdGFydGluZ1Bvc2l0aW9uKTtcbiAgICAgICAgQ1BVLm93bkJvYXJkLnBsYWNlU2hpcCgnaG9yaXpvbnRhbCcsIDUsIHN0YXJ0aW5nUG9zaXRpb24sICdjYXJyaWVyJyk7XG4gICAgfSBjYXRjaCAoZXJyb3Ipe1xuICAgICAgICBjb25zb2xlLmxvZyhlcnJvcilcbiAgICB9XG5cbn1cblxuYXN5bmMgZnVuY3Rpb24gcGxhY2VCYXR0bGVzaGlwKCkge1xuICAgIHRyeXtcbiAgICBpZihzdGFydGluZ1Bvc2l0aW9uIDwgMzApIHtcbiAgICAgICAgbGV0IGJhdHRsZXNoaXBQb3NpdGlvbiA9IHN0YXJ0aW5nUG9zaXRpb24gKyAxMTtcbiAgICAgICAgQ1BVLm93bkJvYXJkLnBsYWNlU2hpcCgnaG9yaXpvbnRhbCcsIDQsIGJhdHRsZXNoaXBQb3NpdGlvbiwgJ2JhdHRsZXNoaXAnKTtcbiAgICAgICAgcmV0dXJuIGJhdHRsZXNoaXBQb3NpdGlvbjtcbiAgICB9IGVsc2Uge1xuICAgICAgICBsZXQgYmF0dGxlc2hpcFBvc2l0aW9uID0gc3RhcnRpbmdQb3NpdGlvbiAtIDE5O1xuICAgICAgICBDUFUub3duQm9hcmQucGxhY2VTaGlwKCdob3Jpem9udGFsJywgNCwgYmF0dGxlc2hpcFBvc2l0aW9uLCAnYmF0dGxlc2hpcCcpO1xuICAgICAgICByZXR1cm4gYmF0dGxlc2hpcFBvc2l0aW9uO1xuICAgIH1cbiAgICB9IGNhdGNoIChlcnJvcil7XG4gICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTtcbiAgICB9XG5cbn1cblxubGV0IHNlY29uZFBvc2l0aW9uID0gYXdhaXQgcGxhY2VCYXR0bGVzaGlwKCk7XG5cbmFzeW5jIGZ1bmN0aW9uIHBsYWNlU3VibWFyaW5lKCkge1xuICAgIHRyeSB7XG4gICAgICAgIGNvbnNvbGUubG9nKHNlY29uZFBvc2l0aW9uKTtcbiAgICB9IGNhdGNoKGVycm9yKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTtcbiAgICB9XG59XG5cblxucGxhY2VDYXJyaWVyKCk7XG5wbGFjZUJhdHRsZXNoaXAoKTtcbnBsYWNlU3VibWFyaW5lKCk7XG5cbmNvbnN0IHBsYXllckJvYXJkID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnBsYXllci1jb250YWluZXInKTtcbmNvbnN0IGNwdUJvYXJkID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmNwdS1jb250YWluZXInKTtcblxubGV0IGNvdW50ZXIgPSAwO1xuXG5wbGF5ZXJPbmUub3duQm9hcmQuZ2FtZWJvYXJkLmZvckVhY2goZWxlbWVudCA9PiB7XG4gICAgbGV0IGRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIGRpdi5jbGFzc0xpc3QuYWRkKCdpbnRhY3QnKTtcbiAgICBkaXYuY2xhc3NMaXN0LmFkZCgnYXJlYScpXG4gICAgZGl2LmNsYXNzTGlzdC5hZGQoJ3BsYXllcicpO1xuICAgIGRpdi5zZXRBdHRyaWJ1dGUoJ2RhdGEtaWQtcGxheWVyJywgY291bnRlcilcbiAgICBwbGF5ZXJCb2FyZC5hcHBlbmRDaGlsZChkaXYpO1xuICAgIGNvdW50ZXIgKz0gMTtcbn0pO1xuXG5jb3VudGVyID0gMDtcblxuQ1BVLm93bkJvYXJkLmdhbWVib2FyZC5mb3JFYWNoKGVsZW1lbnQgPT4ge1xuICAgIGxldCBkaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICBkaXYuY2xhc3NMaXN0LmFkZCgnaW50YWN0Jyk7XG4gICAgZGl2LmNsYXNzTGlzdC5hZGQoJ2FyZWEnKTtcbiAgICBkaXYuY2xhc3NMaXN0LmFkZCgnY3B1Jyk7XG4gICAgZGl2LnNldEF0dHJpYnV0ZSgnZGF0YS1pZC1jcHUnLCBjb3VudGVyKVxuICAgIGNwdUJvYXJkLmFwcGVuZENoaWxkKGRpdik7XG4gICAgY291bnRlciArPSAxO1xufSk7XG5cbmxldCBwbGF5ZXJBcmVhID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnBsYXllcicpO1xubGV0IGNwdUFyZWEgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuY3B1Jyk7XG5cbmNwdUFyZWEuZm9yRWFjaChhcmVhID0+IHtcbiAgICBhcmVhLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgICBjb25zb2xlLmxvZyhhcmVhLmRhdGFzZXQuaWRDcHUpXG4gICAgICAgIENQVS5vd25Cb2FyZC5yZWNlaXZlQXR0YWNrKGFyZWEuZGF0YXNldC5pZENwdSlcbiAgICAgICAgY29uc29sZS5sb2coQ1BVLm93bkJvYXJkLmdhbWVib2FyZFthcmVhLmRhdGFzZXQuaWRDcHVdKTtcbiAgICB9KVxufSlcblxuXG5cblxuXG5cblxuXG5cblxuIiwiaW1wb3J0IHsgR2FtZWJvYXJkIH0gZnJvbSBcIi4vZ2FtZWJvYXJkXCI7XG5cbmV4cG9ydCBjbGFzcyBQbGF5ZXJ7XG5cbiAgICBjb25zdHJ1Y3RvcihuYW1lKSB7XG4gICAgICAgIHRoaXMubmFtZSA9IG5hbWU7XG4gICAgICAgIHRoaXMub3duQm9hcmQgPSBuZXcgR2FtZWJvYXJkKCk7XG4gICAgfVxuXG4gICAgYXR0YWNrQ1BVKHBvc2l0aW9uLCBlbmVteUJvYXJkKSB7XG4gICAgICAgICAgICBlbmVteUJvYXJkLnJlY2VpdmVBdHRhY2socG9zaXRpb24pO1xuICAgIH1cblxuICAgIGF0dGFja1BsYXllcihlbmVteUJvYXJkLCBwb3NpdGlvbiA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDEwMCkpIHtcbiAgICAgICAgZW5lbXlCb2FyZC5yZWNlaXZlQXR0YWNrKHBvc2l0aW9uKTtcbiAgICAgICAgcmV0dXJuIHBvc2l0aW9uO1xuICAgIH1cbn0iLCJleHBvcnQgY2xhc3MgU2hpcCB7XG4gICAgY29uc3RydWN0b3IobGVuZ3RoKSB7XG4gICAgICAgIHRoaXMubGVuZ3RoID0gbGVuZ3RoO1xuICAgICAgICB0aGlzLnpvbmVzID0gdGhpcy5jcmVhdGVab25lcygpO1xuICAgIH1cblxuICAgIHJlc2V0KCkge1xuICAgICAgICB0aGlzLnpvbmVzID0gdGhpcy5jcmVhdGVab25lcygpO1xuICAgIH1cbiAgICBcbiAgICBjcmVhdGVab25lcyh6b25lcyA9IHRoaXMubGVuZ3RoKSB7XG4gICAgICAgIGxldCB6b25lc09iamVjdCA9IHt9O1xuICAgICAgICBmb3IobGV0IGkgPSAwOyBpIDwgem9uZXM7IGkrKykge1xuICAgICAgICAgICAgem9uZXNPYmplY3RbYHpvbmUke2kgKyAxfWBdID0gXCJpbnRhY3RcIjtcbiAgICAgICAgfSBcbiAgICAgICAgXG4gICAgICAgIHJldHVybiB6b25lc09iamVjdDtcbiAgICB9XG5cbiAgICBoaXQobnVtYmVyKSB7XG5cbiAgICAgICAgaWYobnVtYmVyID4gT2JqZWN0LmtleXModGhpcy56b25lcykubGVuZ3RoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy56b25lcztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuem9uZXNbYHpvbmUke251bWJlcn1gXSA9IFwiaGl0XCI7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy56b25lcztcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGlzU3VuaygpIHtcbiAgICAgICAgaWYoT2JqZWN0LnZhbHVlcyh0aGlzLnpvbmVzKS5ldmVyeSh2YWx1ZSA9PiB2YWx1ZSA9PSBcImhpdFwiKSkge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBzaW5rU2hpcCgpIHtcblxuICAgICAgICBmb3IobGV0IGkgPTA7IGkgPCB0aGlzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB0aGlzLnpvbmVzW2B6b25lJHtpICsgMX1gXSA9ICdoaXQnO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgIH1cbn1cblxuZXhwb3J0IGNvbnN0IGZvdXJTaGlwID0gbmV3IFNoaXAoNCk7XG5leHBvcnQgY29uc3QgdGhyZWVTaGlwID0gbmV3IFNoaXAoMyk7XG5leHBvcnQgY29uc3QgdHdvU2hpcCA9IG5ldyBTaGlwKDIpO1xuZXhwb3J0IGNvbnN0IG9uZVNoaXAgPSBuZXcgU2hpcCgxKTsiLCIvLyBUaGUgbW9kdWxlIGNhY2hlXG52YXIgX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fID0ge307XG5cbi8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG5mdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuXHR2YXIgY2FjaGVkTW9kdWxlID0gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXTtcblx0aWYgKGNhY2hlZE1vZHVsZSAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0cmV0dXJuIGNhY2hlZE1vZHVsZS5leHBvcnRzO1xuXHR9XG5cdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG5cdHZhciBtb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdID0ge1xuXHRcdGlkOiBtb2R1bGVJZCxcblx0XHQvLyBubyBtb2R1bGUubG9hZGVkIG5lZWRlZFxuXHRcdGV4cG9ydHM6IHt9XG5cdH07XG5cblx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG5cdF9fd2VicGFja19tb2R1bGVzX19bbW9kdWxlSWRdKG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG5cdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG5cdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbn1cblxuIiwiLy8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbl9fd2VicGFja19yZXF1aXJlX18ubiA9IChtb2R1bGUpID0+IHtcblx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG5cdFx0KCkgPT4gKG1vZHVsZVsnZGVmYXVsdCddKSA6XG5cdFx0KCkgPT4gKG1vZHVsZSk7XG5cdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsIHsgYTogZ2V0dGVyIH0pO1xuXHRyZXR1cm4gZ2V0dGVyO1xufTsiLCIvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9ucyBmb3IgaGFybW9ueSBleHBvcnRzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSAoZXhwb3J0cywgZGVmaW5pdGlvbikgPT4ge1xuXHRmb3IodmFyIGtleSBpbiBkZWZpbml0aW9uKSB7XG5cdFx0aWYoX193ZWJwYWNrX3JlcXVpcmVfXy5vKGRlZmluaXRpb24sIGtleSkgJiYgIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBrZXkpKSB7XG5cdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywga2V5LCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZGVmaW5pdGlvbltrZXldIH0pO1xuXHRcdH1cblx0fVxufTsiLCJfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSAob2JqLCBwcm9wKSA9PiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwgcHJvcCkpIiwiX193ZWJwYWNrX3JlcXVpcmVfXy5uYyA9IHVuZGVmaW5lZDsiLCIvLyBzdGFydHVwXG4vLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbi8vIFRoaXMgZW50cnkgbW9kdWxlIHVzZWQgJ21vZHVsZScgc28gaXQgY2FuJ3QgYmUgaW5saW5lZFxudmFyIF9fd2VicGFja19leHBvcnRzX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEzOCk7XG4iXSwibmFtZXMiOlsid2VicGFja1F1ZXVlcyIsIndlYnBhY2tFeHBvcnRzIiwid2VicGFja0Vycm9yIiwicmVzb2x2ZVF1ZXVlIiwiX19fQ1NTX0xPQURFUl9FWFBPUlRfX18iLCJwdXNoIiwibW9kdWxlIiwiaWQiLCJleHBvcnRzIiwiY3NzV2l0aE1hcHBpbmdUb1N0cmluZyIsImxpc3QiLCJ0b1N0cmluZyIsInRoaXMiLCJtYXAiLCJpdGVtIiwiY29udGVudCIsIm5lZWRMYXllciIsImNvbmNhdCIsImxlbmd0aCIsImpvaW4iLCJpIiwibW9kdWxlcyIsIm1lZGlhIiwiZGVkdXBlIiwic3VwcG9ydHMiLCJsYXllciIsInVuZGVmaW5lZCIsImFscmVhZHlJbXBvcnRlZE1vZHVsZXMiLCJrIiwiX2siLCJjc3NNYXBwaW5nIiwiYnRvYSIsImJhc2U2NCIsInVuZXNjYXBlIiwiZW5jb2RlVVJJQ29tcG9uZW50IiwiSlNPTiIsInN0cmluZ2lmeSIsImRhdGEiLCJzb3VyY2VNYXBwaW5nIiwic291cmNlVVJMcyIsInNvdXJjZXMiLCJzb3VyY2UiLCJzb3VyY2VSb290Iiwib3B0aW9ucyIsInN0eWxlVGFnVHJhbnNmb3JtIiwic2V0QXR0cmlidXRlcyIsImluc2VydCIsImRvbUFQSSIsImluc2VydFN0eWxlRWxlbWVudCIsInN0eWxlc0luRE9NIiwiZ2V0SW5kZXhCeUlkZW50aWZpZXIiLCJpZGVudGlmaWVyIiwicmVzdWx0IiwibW9kdWxlc1RvRG9tIiwiaWRDb3VudE1hcCIsImlkZW50aWZpZXJzIiwiYmFzZSIsImNvdW50IiwiaW5kZXhCeUlkZW50aWZpZXIiLCJvYmoiLCJjc3MiLCJzb3VyY2VNYXAiLCJyZWZlcmVuY2VzIiwidXBkYXRlciIsImFkZEVsZW1lbnRTdHlsZSIsImJ5SW5kZXgiLCJzcGxpY2UiLCJhcGkiLCJ1cGRhdGUiLCJuZXdPYmoiLCJyZW1vdmUiLCJsYXN0SWRlbnRpZmllcnMiLCJuZXdMaXN0IiwiaW5kZXgiLCJuZXdMYXN0SWRlbnRpZmllcnMiLCJfaSIsIl9pbmRleCIsIm1lbW8iLCJzdHlsZSIsInRhcmdldCIsInN0eWxlVGFyZ2V0IiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwid2luZG93IiwiSFRNTElGcmFtZUVsZW1lbnQiLCJjb250ZW50RG9jdW1lbnQiLCJoZWFkIiwiZSIsImdldFRhcmdldCIsIkVycm9yIiwiYXBwZW5kQ2hpbGQiLCJlbGVtZW50IiwiY3JlYXRlRWxlbWVudCIsImF0dHJpYnV0ZXMiLCJzdHlsZUVsZW1lbnQiLCJub25jZSIsInNldEF0dHJpYnV0ZSIsImFwcGx5IiwicGFyZW50Tm9kZSIsInJlbW92ZUNoaWxkIiwicmVtb3ZlU3R5bGVFbGVtZW50Iiwic3R5bGVTaGVldCIsImNzc1RleHQiLCJmaXJzdENoaWxkIiwiY3JlYXRlVGV4dE5vZGUiLCJHYW1lYm9hcmQiLCJjb25zdHJ1Y3RvciIsImdhbWVib2FyZCIsImNyZWF0ZUJvYXJkIiwiY2FycmllciIsImJhdHRsZXNoaXAiLCJjcnVpc2VyIiwic3VibWFyaW5lIiwiZGVzdHJveWVyIiwic2hpcCIsInN0YXRlIiwicG9zaXRpb24iLCJwbGFjZVNoaXAiLCJkaXJlY3Rpb24iLCJzdGFydGluZ1Bvc2l0aW9uIiwidHlwZSIsInRlbXBQb3NpdGlvbiIsInJlY2VpdmVBdHRhY2siLCJoaXRJbmRleEFycmF5Iiwic2hpcFR5cGUiLCJzaGlwQXJyYXkiLCJmaWx0ZXIiLCJ2YWx1ZSIsImtleSIsImluZGV4T2YiLCJ6b25lcyIsIm1pc3MiLCJhcmVBbGxTaGlwc1N1bmsiLCJPYmplY3QiLCJ2YWx1ZXMiLCJldmVyeSIsImFzeW5jIiwiZ2V0TnVtYmVyIiwiZmlyc3ROdW1iZXIiLCJmZXRjaCIsInNlY29uZE51bWJlciIsImZpcnN0anNvbiIsImpzb24iLCJzZWNvbmRqc29uIiwic3RyaW5nTnVtYmVyIiwiU3RyaW5nIiwiTnVtYmVyIiwiZXJyb3IiLCJjb25zb2xlIiwibG9nIiwicGxheWVyT25lIiwiQ1BVIiwicGxhY2VDYXJyaWVyIiwib3duQm9hcmQiLCJwbGFjZUJhdHRsZXNoaXAiLCJiYXR0bGVzaGlwUG9zaXRpb24iLCJzZWNvbmRQb3NpdGlvbiIsInBsYWNlU3VibWFyaW5lIiwicGxheWVyQm9hcmQiLCJjcHVCb2FyZCIsImNvdW50ZXIiLCJmb3JFYWNoIiwiZGl2IiwiY2xhc3NMaXN0IiwiYWRkIiwicXVlcnlTZWxlY3RvckFsbCIsImFyZWEiLCJhZGRFdmVudExpc3RlbmVyIiwiZGF0YXNldCIsImlkQ3B1IiwiUGxheWVyIiwibmFtZSIsImF0dGFja0NQVSIsImVuZW15Qm9hcmQiLCJhdHRhY2tQbGF5ZXIiLCJNYXRoIiwiZmxvb3IiLCJyYW5kb20iLCJTaGlwIiwiY3JlYXRlWm9uZXMiLCJyZXNldCIsInpvbmVzT2JqZWN0IiwiaGl0IiwibnVtYmVyIiwia2V5cyIsImlzU3VuayIsInNpbmtTaGlwIiwiX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiY2FjaGVkTW9kdWxlIiwiX193ZWJwYWNrX21vZHVsZXNfXyIsIlN5bWJvbCIsInF1ZXVlIiwiZCIsImZuIiwiciIsImEiLCJib2R5IiwiaGFzQXdhaXQiLCJjdXJyZW50RGVwcyIsIm91dGVyUmVzb2x2ZSIsInJlamVjdCIsImRlcFF1ZXVlcyIsIlNldCIsInByb21pc2UiLCJQcm9taXNlIiwicmVzb2x2ZSIsInJlaiIsIngiLCJkZXBzIiwiZGVwIiwidGhlbiIsInJldCIsIndyYXBEZXBzIiwiZ2V0UmVzdWx0IiwiZm5RdWV1ZSIsInEiLCJoYXMiLCJlcnIiLCJuIiwiZ2V0dGVyIiwiX19lc01vZHVsZSIsImRlZmluaXRpb24iLCJvIiwiZGVmaW5lUHJvcGVydHkiLCJlbnVtZXJhYmxlIiwiZ2V0IiwicHJvcCIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwiY2FsbCIsIm5jIl0sInNvdXJjZVJvb3QiOiIifQ==